ğŸ”´.envì— ì„¤ì •í•œê±¸ db.jsì—ì„œ ì‚¬ìš©í–ˆë˜ê²ƒì²˜ëŸ¼ webpackì„ ìˆ˜ë™ìœ¼ë¡œ ì„¤ì •í•´ë³´ì.

ğŸ”´ìœˆë„ìš° í™˜ê²½ì€ cross-env ì„¤ì¹˜í•´ë³´ì.
npm install cross-env

ğŸ”´npm installì‹œ
npm install cross-env : dependencies,
npm install --save-dev cross-env : devDependencies
ì— ì €ì¥ëœë‹¤.(package.json)
devDependenciesë¡œ ë“¤ì–´ê°ˆ ê²½ìš°,
ë‚˜ì¤‘ì— herokuê°€ WEBPACK_ENVë¥¼ ì¸ì‹ ëª»í•˜ê¸°ë•Œë¬¸ì— dependenciesë¡œ ì„¤ì¹˜í•˜ì.

ğŸ”´package.jsonì— scriptìˆ˜ì •

------------------------package.json------------------------------
  "scripts": {
    "dev:server": "nodemon --exec babel-node init.js --delay 2",
    "dev:assets": "webpack"
  },
------------------------>>>>>>>>>>>>>-----------------------------
  "scripts": {
    "dev:server": "nodemon --exec babel-node init.js --delay 2",
    "dev:assets": "cross-env WEBPACK_ENV=development webpack",
    "build:assets": "cross-env WEBPACK_ENV=production webpack"
  },
------------------------------------------------------------------

ğŸ”´ìœ„ì˜ ì„¤ì • íŒŒì¼ì„ ì‚¬ìš©í•˜ë„ë¡ webpack.config.jsë„ ìˆ˜ì •.
------------------------------------------------------------------
const MODE = process.env.WEBPACK_ENV;
const ENTRY_FILE = path.resolve(__dirname, "assets", "js", "main.js");
const OUTPUT_DIR = path.join(__dirname, "static");

const config = {
  entry: ENTRY_FILE,
  mode: MODE,
  output: {
    path: OUTPUT_DIR,
    filename: "[name].[format]",
  },
};
------------------------------------------------------------------

ğŸ”´npm run dev:assets ì‹¤í–‰í•´ë³´ë©´ ì‹¤íŒ¨í–ˆë‹¤ê³  ë– ìˆëŠ”ë° ì´ê±´ webpackì´ CSSë¶€ë¶„ì„
ì´í•´í•˜ì§€ ëª»í•´ì„œì„.
ê·¸ëŸ¬ë¯€ë¡œ webpackì— ruleì„ ì£¼ì.


ğŸ”´npm install extra-text-webpack-plugin@next
: extra-text-webpack-plugin ë‹¤ìŒë²„ì „ì„ ì„¤ì¹˜í•˜ì.

ğŸ”´loader
: webpackì—ê²Œ íŒŒì¼ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì„ ì•Œë ¤ì¤Œ.
loaderëŠ” ì•„ë˜ì—ì„œ ìœ„ë¡œ ì§„í–‰í•œë‹¤.

ğŸ”´webpack.config.jsì˜ configì—ì„œ ì²˜ë¦¬ê·œì¹™ì„ ì…ë ¥í•´ì£¼ì.
------------------------------------------------------------------
const ExtractCSS = require("extract-text-webpack-plugin");
....

const config = {
  entry: ENTRY_FILE,
  mode: MODE,
  module: {
    rules: [
      {
        test: /\.(scss)$/,
        use: ExtractCSS.extract([
          {
            loader: "css-loader",
          },
          {
            loader: "postcss-loader",
          },
          {
            loader: "sass-loader",
          },
        ]),
      },
    ],
  },
  output: {
    path: OUTPUT_DIR,
    filename: "[name].[format]",
  },
};
------------------------------------------------------------------
-rulesëŠ” í•˜ë‚˜ì˜ arrayë‹¤. configë¼ëŠ” objectì•ˆì— ìˆëŠ” array.
-ë¨¼ì € ìƒíƒœ(condition)ë¥¼ ì‹œí—˜(test)í•´ë³´ì.
-test: /\.(scss)$/, : íŒŒì¼ì„ ë§Œë‚˜ë©´ ê·¸ íŒŒì¼ì´ scssì¸ì§€ ì°¾ì•„ë´(ì •ê·œì‹ì„ ì¨ì•¼í•¨)
-ì •ê·œì‹ì€ ë”°ì˜´í‘œë¡œ ì‹œì‘í•˜ì§€ ì•ŠëŠ”ë‹¤.
-scssíŒŒì¼ì„ ì°¾ì•˜ì„ë•Œ ê·¸ íŒŒì¼ì„ CSSë¡œ ë°”ê¾¸ê³  ê·¸ CSSì— í•´ë‹¹í•˜ëŠ” í…ìŠ¤íŠ¸ ì „ì²´ë¥¼ ì·¨í•´ì„œ
-ê·¸ í…ìŠ¤íŠ¸ë¥¼ ì¶”ì¶œí•´ì„œ cssíŒŒì¼ë¡œ ì €ì¥
-ì¶”ì¶œëœ CSSë¥¼ ë¶„ë¦¬ëœ í•˜ë‚˜ì˜ íŒŒì¼ë¡œ ë§Œë“ ë‹¤.
-postcss-loader : í˜¸í™˜ì„±ì„ ë¶€ì—¬.
